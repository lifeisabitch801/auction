<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" /> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>卓越--联系我们</title>
<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon"/>
<link href="JsCss/common.css" rel="stylesheet" media="screen" type="text/css" />
<script type="text/javascript" src="JsCss/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="JsCss/vue.min.js"></script>
<script type="text/javascript" src="JsCss/axios.min.js" charset="utf-8"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=0DBTh1xpZIXyV9u1CzpbyFsh"></script>
<script type="text/javascript" src="JsCss/marker.js" ></script>
<script src="JsCss/index.js"></script>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />  
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
<title>卓越地图</title>  
<style type="text/css">  
	#container{
		width:	600px;
		height: 250px;
		border: solid 1px #AAA;
	}  
	table{
		border-collapse:separate; 
		border-spacing:10px;
	}
	tr{
		width: 80px;
	}
	
</style>
</head>

<body>
    <div class="header">
         <ul class="top-link">
            <li class="title"><a target=_top href="register.html">注册</a></li>
            <li class="pi"></li>
            <li class="title"><a href="login.html?">登录</a></li>
        </ul>
        
        <div class="logo"><a href="index.html"><img src="images/logo.png" width="250" height="82" /></a></div>
        <div class="menu">
            <ul>
                <li><a href="about.html">关于我们</a><span>about us</span></li>
                <li ><a href="auctioning.html">拍卖信息</a><span>Auction information</span></li>
                <li ><a href="product.html">商品展示</a><span>Product showcase</span></li>
                <li class="active"><a href="'showData.html?vid='+vid">个人信息</a><span>Personal information</span></li>
                <li ><a href="chargeMoney.html">资金管理</a><span>Money management</span></li>
                
            </ul>
        </div>
    </div>
    <!-- 菜单和下面模块的间隔-->
    <div class="clr50"></div>
	<!-- 图片 -->
    <div class="zy_banner_bg">
    	<div class="zy_banner"></div>
    </div>
    
    
    
    <div class="zy_main" id="about">
    	<div class="Left_subMenu">
        	<div class="top_bg"></div>
            <div class="c_bg">
            	<div class="title">个人信息</div>
                <ul>
					<li><a href="showData.html">查看个人信息</a></li>
					<li class="activer"><a href="register.html">注册</a></li>
					<li><a href="login.html">登录</a></li>
					<li><a href="updatePwd.html">修改密码</a></li>
                    
                </ul>
            </div>
            <div class="bottom_bg"></div>
            
            <div class="ph">
            	<img src="images/ph.png" width="169" height="67" />
            </div>
        </div>
        
      
      
        
      <div id="process" class="zy_right">
      		<div class="position">当前位置：<a href="#">个人信息</a> > <a href="#">注册</a></div>
      		<div class="zy_title">
      			<p>注册<span> Register </span></p>
      		</div>
      		<div class="cz-con-text">
      			<form action="" method="" class="cz-form">
      				<table cellspacing="" cellpadding="" >
      					<tr>
      						<td><span style="color: red;">*</span>会员编号： </td>
      						<td><input type="text" class="cz-birds" v-model="vip.vid"
							@blur="validvid"
      								placeholder="请输入会员编号"/>
      								<span>
      									{{vipvid}}{{vidmsg}}
      								</span>
      						</td>
      					</tr>
      					<tr>
      						<td><span style="color: red;">*</span>会员密码： </td>
      						<td><input type="password" class="cz-birds" v-model="vip.vpwd"
      								placeholder="请输入会员密码" />
									<span>
										{{vippwd}}
									</span>
									</td>
      					</tr>
						<tr>
							<td><span style="color: red;">*</span>确认密码： </td>
							<td><input type="password" class="cz-birds" v-model="repwd"
									placeholder="请再次输入密码"/>
									<span>
										{{viprepwd}}
									</span>
						</tr>
      					<tr>
      						<td><span style="color: red;">*</span>会员昵称： </td>
      						<td><input type="text" class="cz-birds" v-model="vip.vname"
      								placeholder="请输入会员昵称" />
									<span>
										{{vipname}}
									</span>
									</td>
      					</tr>
      					<tr>
      						<td><span style="color: red;">*</span>联系电话： </td>
      						<td><input type="text" class="cz-birds" v-model="vip.vtel"
      								placeholder="请输入联系电话" /><span>
      									{{viptel}}
      								</span></td>
      					</tr>
      					<tr>
      						<td>会员地址： </td>
      						<td><input type="text" class="cz-birds" v-model="vip.vaddress"
      								placeholder="请输入会员地址" /></td>
      					</tr>
      					<tr>
      						<td><span style="color: red;">*</span>会员邮箱： </td>
      						<td><input type="text" class="cz-birds" v-model="vip.vemail"
      								placeholder="请输入会员邮箱" />
									<span>{{vipmail}}</span>
									</td>
      					</tr>
      					<tr>
      						<td>会员备注： </td>
      						<td><input type="text" class="cz-birds" v-model="vip.vbackup"
      								placeholder="请输入会员备注" /></td>
      					</tr>
      					<tr>
      						<td colspan="2" style="text-align: center;">
      							<div class="cz-sub">
      								<input type="button" class="cz-gkbutton" @click="register()" />
      							</div>
      					</tr>
      				</table>
      			</form>
      		</div>
      	</div>
      
      </div>
    
<div id="footer-top">
        <div class="footer-text">
            © AUCTION  
        </div>
    </div>
<script>
	var vm = new Vue({
		el:'#about',
		data:{	
			vip:{},
			vippwd:'',
			vipvid:'',
			viprepwd:'',
			vipname:'',
			viptel:'',
			repwd:'',
			vidmsg:'',
			vipmail:''
		},
		methods:{
			validvid(){
				axios.get("http://localhost:8088/auction/vips/validvid?vid="+this.vip.vid).then((resp)=>{
					if(resp.data==true){
						this.vidmsg="会员编号可用";
					}else{
						this.vidmsg="会员编号重复";
					}
				})
			},
			register() {
				var flag = true;
				this.vipvid='';
				this.vippwd='';
				this.viprepwd='';
				this.vipname='';
				this.viptel='';
				this.vipmail='';
				//vid
				if(this.vip.vid==null||this.vip.vid==""){
					this.vipvid="会员编号不能为空";
					flag = false;
				}
				//vpwd
				if(this.vip.vpwd==null||this.vip.vpwd==""){
					this.vippwd="密码不能为空";
					flag = false;
				}
				//pwd&&repwd
				if(this.repwd != this.vip.vpwd){
					this.viprepwd="两次输入密码不一致";
					flag = false;
				}
				//repwd
				if(this.repwd==null||this.repwd==""){
					this.viprepwd="	确认密码是不能为空";
					flag = false;
				}
				//vname
				if(this.vip.vname==null||this.vip.vname==""){
					this.vipname="会员昵称不能为空";
					flag = false;
				}
				//vid
				if(this.vip.vtel==null||this.vip.vtel==""){
					this.viptel="联系电话不能为空";
					flag = false;
				}
				//email
				if(this.vip.vemail==null||this.vip.vemail==""){
					this.vipmail="EMAIL不能为空";
					flag = false;
				}
				var flagvid = this.validvid();
				if(flagvid==false){
					//alert("会员编号重复");
					return;
				}
				if(flag==true){
					axios.post("http://localhost:8088/auction/vips/register",this.vip).then((resp)=>{
						if(resp.data==true){
							alert("注册成功");
							window.location.href="login.html";
						}else{
							alert("注册失败");
						}
						
					})
				}
				
							
			},
		}
	});                     
</script>    
 
</body>
</html>
